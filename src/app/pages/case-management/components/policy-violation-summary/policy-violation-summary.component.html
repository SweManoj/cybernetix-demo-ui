<div class="container-fluid">
    <h3 class="title">PV1001 - Multiple acount lockedout detected - PUNCEF101</h3>
</div>

<div class="container-fluid">
    <div class="mt-3 policyBg">
        <div class="row">
            <div class="col-md-6 action">
                <span ngbDropdown placement="bottom-right" class="float-sm-right">
                    <button class="btn btn-sm buttonBg" id="dropdownBasic1" ngbDropdownToggle>
                        Actions
                    </button>
                    <div class="buttonBg actionDropDown" ngbDropdownMenu aria-labelledby="dropdownBasic1">
                        <button ngbDropdownItem class="buttonBg">
                            Investigate
                        </button>
                        <button ngbDropdownItem class="buttonBg">
                            Accept as Risk
                        </button>
                        <button ngbDropdownItem class="buttonBg">
                            Create an Incident
                        </button>
                        <button ngbDropdownItem class="buttonBg">
                            Perform Remediaion
                        </button>
                    </div>
                </span>

                <dl class="dlList">
                    <dt class="mt-5">
                        <i class="fa fa-caret-right"></i>&nbsp;&nbsp;Description
                    </dt>
                    <dd class="mt-2">
                        In this policy violation, user was trying to access machine which is restricted to access by
                        group
                        policy
                    </dd>

                    <dt class="mt-5">
                        <i class="fa fa-caret-right"></i>&nbsp;&nbsp;Recommendation
                    </dt>
                    <dd class="mt-2">
                        In this policy violation, user was trying to access machine which is restricted to access by
                        group
                        policy
                    </dd>
                </dl>
            </div>

            <div class="col-md-6 mb-5">
                <div class="row mt-5 pl-4">
                    <div class="col-md-5">
                        <dt>
                            <i class="fa fa-caret-right"></i>&nbsp;&nbsp;&nbsp;Date
                            Created
                        </dt>
                    </div>
                    <span class="dotSeperator"><b>:</b></span>
                    <div class="col-md-5 pl-4 dtList">
                        09/05/1999 11:23:00
                    </div>
                </div>
                <div class="row mt-3 pl-4">
                    <div class="col-md-5">
                        <dt>
                            <i class="fa fa-caret-right"></i>&nbsp;&nbsp;&nbsp;Priority
                        </dt>
                    </div>
                    <span class="dotSeperator"><b>:</b></span>
                    <div class="col-md-5 pl-4 dtList">
                        High
                    </div>
                </div>

                <div class="row mt-3 pl-4">
                    <div class="col-md-11 listedItem pb-3">
                        <dt>
                            <i class="fa fa-caret-right pb-3"></i>&nbsp;&nbsp;&nbsp;Threat Categorisation
                        </dt>
                        <div class="row mt-2 threat" *ngFor="let threatCategory of threatCategories">
                            <div class="col-md-3 threatTitle">
                                {{ threatCategory.title }}
                            </div>
                            <b>&nbsp;:&nbsp;</b>
                            <div class="col-md-6 threatValue">
                                {{ threatCategory.value }}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-3 pl-4">
                    <div class="col-md-5">
                        <dt>
                            <i class="fa fa-caret-right"></i>&nbsp;&nbsp;&nbsp;Affected Entity
                        </dt>
                    </div>
                    <span class="dotSeperator"><b>:</b></span>
                    <div class="col-md-5 pl-4 dtList d-flex">
                        <a href="#">PUN1020</a>
                    </div>
                </div>
                <div class="row mt-3 pl-4">
                    <div class="col-md-5">
                        <dt>
                            <i class="fa fa-caret-right"></i>&nbsp;&nbsp;&nbsp;Number Of Indicators
                        </dt>
                    </div>
                    <span class="dotSeperator"><b>:</b></span>
                    <div class="col-md-5 pl-4 dtList">
                        5
                    </div>
                </div>
                <div class="row mt-3 pl-4">
                    <div class="col-md-5">
                        <dt>
                            <i class="fa fa-caret-right"></i>&nbsp;&nbsp;&nbsp;Status
                        </dt>
                    </div>
                    <span class="dotSeperator"><b>:</b></span>
                    <div class="col-md-5 pl-4 dtList"></div>
                </div>

                <div class="row mt-2 pl-2">
                    <div class="col-md-11">
                        <hr />
                    </div>
                </div>

                <form [formGroup]="commentFormGroup" class="row user-item mt-3">
                    <div class="col-1 col-sm-1 col-md-1">
                        <img class="profile-image img-round" src="./../../../../../assets/images/user.png">
                    </div>
                    <div class="col-md-8 ml-3">
                        <div class="form-group input-group">
                            <textarea class="form-control rounded" formControlName="commentValue" id="commentValue"
                                placeholder="Enter your commnets here..." matInput cdkTextareaAutosize #autosize
                                cdkAutosizeMinRows="1" cdkAutosizeMaxRows="2"> </textarea>
                        </div>
                    </div>
                    <div class="col-2 col-md-2 pt-2">
                        <button class="btn btn-sm"
                            [disabled]="commentFormGroup.invalid || commentValue.value.trim()==''" type="submit"
                            (click)="submitComment()">
                            &emsp;Post&emsp;
                        </button>
                    </div>
                </form>

                <!-- <form name="form" #commentForm="ngForm" (ngSubmit)="submitComment()" novalidate
                    class="row user-item mt-3">
                    <div class="col-1 col-sm-1 col-md-1">
                        <img class="profile-image img-round" src="./../../../../../assets/images/user.png">
                    </div>
                    <div class="col-md-8 ml-3">
                        <div class="form-group">
                            <textarea type="text" autosize class="form-control" id="comment"
                                [(ngModel)]="comment.content" required name="content"
                                placeholder="Enter your commnets here..."></textarea>
                        </div>
                    </div>
                    <div class="col-2 col-md-2 pt-2">
                        <button class="btn btn-sm" [disabled]="!commentForm.form.valid" type="submit" sty>
                            &emsp;Post&emsp;
                        </button>
                    </div>
                </form> -->

                <div class="row user-item mt-3" *ngFor="let comment of policyComments">
                    <div class="col-1 col-md-1 mr-4">
                        <img class="profile-image img-round" src="./../../../../../assets/images/user.png">
                    </div>
                    <div class="col-md-10 ml-1">
                        <div class="row mt-2 mb-1">
                            <div class="col-md-12 comment"><a href="#">{{comment.userId}}</a> &emsp;&emsp;
                                {{comment.timestamp | timeAgo}}
                            </div>
                        </div>
                        <div class="row comment">
                            <span>{{comment.content}}</span>
                        </div>
                        <div class="row mt-1"><span class="reply" (click)="comment.reply= !comment.reply">Reply</span>
                        </div>
                        <div class="row mt-2" *ngIf="comment.reply">
                            <div class="col-md-10">
                                <textarea type="text" autosize class="form-control" id="comment"
                                    [(ngModel)]="comment.content" required name="content"
                                    placeholder="Enter your commnets here..."></textarea>
                            </div>
                            <div class="col-md-2 mt-2">
                                <button class="btn btn-sm" [disabled]="!commentForm.form.valid" type="submit" sty>
                                    &emsp;Post&emsp;
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>